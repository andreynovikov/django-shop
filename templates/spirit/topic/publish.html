{% extends "spirit/_base.html" %}

{% load spirit_tags i18n %}

{% block title %}{% trans "Publish topic" %}{% endblock %}
{% block content_title %}{% trans "Publish topic" %}{% endblock %}

{% block javascript %}
  {{ block.super }}
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      stModules.store(
        document.querySelector('textarea'),
        'topic_publish_comment'
      );
    });
  </script>
{% endblock %}

{% block content %}
    <div class="container py-5 mb-2 mb-md-4">
      <form action="." method="post" class="js-reply needs-validation" novalidate>
        {% csrf_token %}

        {# topic #}
        {% include "spirit/_form.html" %}

        {# comment #}
        {% include "spirit/_form.html" with form=cform %}

        <div class="container">
          {% include "spirit/comment/_editor.html" %}
          {% include "spirit/_no_username_alert.html" %}

          <div class="text-right">
            <button class="btn btn-primary reply-button" type="submit">{% trans "Publish" %}</button>
          </div>
        </div>
      </form>
    </div>
{% endblock %}
